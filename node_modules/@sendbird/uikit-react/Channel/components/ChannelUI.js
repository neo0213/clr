import React__default from 'react';
import { useSendbirdStateContext } from '../../useSendbirdStateContext.js';
import { u as useChannelContext } from '../../chunks/bundle-QO9wq7-1.js';
import PlaceHolder, { PlaceHolderTypes } from '../../ui/PlaceHolder.js';
import ConnectionStatus from '../../ui/ConnectionStatus.js';
import ChannelHeader from './ChannelHeader.js';
import { M as MessageList, T as TypingIndicatorType } from '../../chunks/bundle-wRCPXISN.js';
import TypingIndicator from './TypingIndicator.js';
import MessageInputWrapper from './MessageInput.js';
import '../../withSendbird.js';
import '../../chunks/bundle-Y6TqPszM.js';
import '../../chunks/bundle-3WQuaADd.js';
import '../../chunks/bundle-YQkYq090.js';
import '../../chunks/bundle-menQ38z9.js';
import '../../chunks/bundle-pmVgESW3.js';
import '../../chunks/bundle-xgxXEKxk.js';
import '../../chunks/bundle-ZT6XnGSN.js';
import '../../utils/message/getOutgoingMessageState.js';
import '../../chunks/bundle-zz1eCYds.js';
import '@sendbird/chat/message';
import '../../chunks/bundle-GGcTNRCI.js';
import '../../chunks/bundle-EPtYsHAJ.js';
import '@sendbird/chat/groupChannel';
import '../../chunks/bundle-8VA5hO1c.js';
import '../hooks/useInitialMessagesFetch.js';
import '../../chunks/bundle-7x4clnC7.js';
import '../../chunks/bundle-Sk3SXXP7.js';
import '../../chunks/bundle-pCwi8C-K.js';
import '../../chunks/bundle-EteEacTX.js';
import '../../chunks/bundle-Xly_X4hP.js';
import '../../chunks/bundle-JuKER7D_.js';
import '../../ui/Icon.js';
import '../../chunks/bundle-JhG5BHdE.js';
import '../../chunks/bundle-0IelBspE.js';
import '../../ui/Loader.js';
import '../../chunks/bundle-h4Ck6NLh.js';
import '../../ui/IconButton.js';
import '../../ui/ChannelAvatar.js';
import '../../chunks/bundle-Tep20T57.js';
import '../../ui/ImageRenderer.js';
import '../../chunks/bundle-2AUp3oeN.js';
import '../../chunks/bundle-dJBzT033.js';
import '../../chunks/bundle-Mn36ivpf.js';
import './Message.js';
import './SuggestedMentionList.js';
import '../../chunks/bundle-Jw6D-oM_.js';
import '../../Thread/context.js';
import '../../Thread/context/types.js';
import '@sendbird/chat';
import '../../ui/DateSeparator.js';
import '../../chunks/bundle-LhtrqZSE.js';
import '../../ui/MessageInput.js';
import '../../ui/Button.js';
import '../../chunks/bundle-vSJ8dTAZ.js';
import 'dompurify';
import '../../chunks/bundle-2YEsND5T.js';
import '../../chunks/bundle-zCWUhqT2.js';
import '../../chunks/bundle-89OkQYTj.js';
import '../../chunks/bundle-lSKfBDuq.js';
import '../../ui/MessageContent.js';
import '../../chunks/bundle-l0M5nN1Q.js';
import '../../chunks/bundle-oghsyfOE.js';
import '../../chunks/bundle-6uVd8Nrl.js';
import '../../ui/MessageItemMenu.js';
import '../../ui/ContextMenu.js';
import 'react-dom';
import '../../ui/SortByRow.js';
import '../../chunks/bundle-KOKqPpBq.js';
import '../../ui/MessageItemReactionMenu.js';
import '../../ui/ReactionButton.js';
import '../../chunks/bundle-cJc3JBZb.js';
import '../../ui/EmojiReactions.js';
import '../../ui/ReactionBadge.js';
import '../../ui/BottomSheet.js';
import '../../hooks/useModal.js';
import '../../chunks/bundle-5JvP07dI.js';
import '../../ui/UserListItem.js';
import '../../ui/MutedAvatarOverlay.js';
import '../../ui/Checkbox.js';
import '../../ui/UserProfile.js';
import '../../sendbirdSelectors.js';
import '../../ui/Tooltip.js';
import '../../ui/TooltipWrapper.js';
import '../../Message/context.js';
import '../../ui/AdminMessage.js';
import '../../ui/QuoteMessage.js';
import '../../chunks/bundle-WZvwkbYN.js';
import '../../chunks/bundle-k4WuO78S.js';
import '../../ui/ThreadReplies.js';
import '../../ui/OGMessageItemBody.js';
import '../../chunks/bundle-GiSLT4lG.js';
import '../../ui/MentionLabel.js';
import '../../ui/LinkLabel.js';
import '../../ui/TextMessageItemBody.js';
import '../../ui/FileMessageItemBody.js';
import '../../ui/TextButton.js';
import '../../chunks/bundle-0SIFukuT.js';
import '../../chunks/bundle-LTnLzJFb.js';
import '../../ui/VoiceMessageItemBody.js';
import '../../ui/ProgressBar.js';
import '../../VoicePlayer/useVoicePlayer.js';
import '../../chunks/bundle-Ku1a64TD.js';
import '../../VoiceRecorder/context.js';
import '../../ui/PlaybackTime.js';
import '../../ui/ThumbnailMessageItemBody.js';
import '../../ui/UnknownMessageItemBody.js';
import './FileViewer.js';
import './RemoveMessageModal.js';
import '../../chunks/bundle-JSlDfYOF.js';
import '../../chunks/bundle-Nv1SlZSC.js';
import '../../Message/hooks/useDirtyGetMentions.js';
import '../utils/getMessagePartsInfo.js';
import '../utils/compareMessagesForGrouping.js';
import './UnreadCount.js';
import './FrozenNotification.js';
import '../../ui/TypingIndicatorBubble.js';
import '@sendbird/uikit-tools';
import '../../ui/QuoteMessageInput.js';
import '../../chunks/bundle-jyTJAjUy.js';
import '../../VoiceRecorder/useVoiceRecorder.js';
import '../../chunks/bundle-nHhZeAVb.js';
import '../hooks/useHandleUploadFiles.js';

var ChannelUI = function (_a) {
    var _b, _c, _d, _e, _f, _g, _h, _j, _k;
    var isLoading = _a.isLoading, renderPlaceholderLoader = _a.renderPlaceholderLoader, renderPlaceholderInvalid = _a.renderPlaceholderInvalid, renderPlaceholderEmpty = _a.renderPlaceholderEmpty, renderChannelHeader = _a.renderChannelHeader, renderMessage = _a.renderMessage, renderMessageInput = _a.renderMessageInput, renderTypingIndicator = _a.renderTypingIndicator, renderCustomSeparator = _a.renderCustomSeparator, renderFileUploadIcon = _a.renderFileUploadIcon, renderVoiceMessageIcon = _a.renderVoiceMessageIcon, renderSendMessageIcon = _a.renderSendMessageIcon, renderFrozenNotification = _a.renderFrozenNotification;
    var _l = useChannelContext(), channelUrl = _l.channelUrl, isInvalid = _l.isInvalid;
    var globalStore = useSendbirdStateContext();
    var sdkError = (_c = (_b = globalStore === null || globalStore === void 0 ? void 0 : globalStore.stores) === null || _b === void 0 ? void 0 : _b.sdkStore) === null || _c === void 0 ? void 0 : _c.error;
    var logger = (_d = globalStore === null || globalStore === void 0 ? void 0 : globalStore.config) === null || _d === void 0 ? void 0 : _d.logger;
    var isOnline = (_e = globalStore === null || globalStore === void 0 ? void 0 : globalStore.config) === null || _e === void 0 ? void 0 : _e.isOnline;
    if (isLoading) {
        return (React__default.createElement("div", { className: "sendbird-conversation" }, (renderPlaceholderLoader === null || renderPlaceholderLoader === void 0 ? void 0 : renderPlaceholderLoader()) || (React__default.createElement(PlaceHolder, { type: PlaceHolderTypes.LOADING }))));
    }
    if (!channelUrl) {
        return (React__default.createElement("div", { className: "sendbird-conversation" }, (renderPlaceholderInvalid === null || renderPlaceholderInvalid === void 0 ? void 0 : renderPlaceholderInvalid()) || (React__default.createElement(PlaceHolder, { type: PlaceHolderTypes.NO_CHANNELS }))));
    }
    if (isInvalid) {
        return (React__default.createElement("div", { className: "sendbird-conversation" }, (renderPlaceholderInvalid === null || renderPlaceholderInvalid === void 0 ? void 0 : renderPlaceholderInvalid()) || (React__default.createElement(PlaceHolder, { type: PlaceHolderTypes.WRONG }))));
    }
    if (sdkError) {
        return (React__default.createElement("div", { className: "sendbird-conversation" }, (renderPlaceholderInvalid === null || renderPlaceholderInvalid === void 0 ? void 0 : renderPlaceholderInvalid()) || (React__default.createElement(PlaceHolder, { type: PlaceHolderTypes.WRONG, retryToConnect: function () {
                logger.info('Channel: reconnecting');
                // reconnect();
            } }))));
    }
    return (React__default.createElement("div", { className: 'sendbird-conversation' },
        (renderChannelHeader === null || renderChannelHeader === void 0 ? void 0 : renderChannelHeader()) || (React__default.createElement(ChannelHeader, { className: "sendbird-conversation__channel-header" })),
        React__default.createElement(MessageList, { className: "sendbird-conversation__message-list", renderMessage: renderMessage, renderPlaceholderEmpty: renderPlaceholderEmpty, renderCustomSeparator: renderCustomSeparator, renderPlaceholderLoader: renderPlaceholderLoader, renderFrozenNotification: renderFrozenNotification }),
        React__default.createElement("div", { className: "sendbird-conversation__footer" },
            (renderMessageInput === null || renderMessageInput === void 0 ? void 0 : renderMessageInput()) || (React__default.createElement(MessageInputWrapper, { renderFileUploadIcon: renderFileUploadIcon, renderVoiceMessageIcon: renderVoiceMessageIcon, renderSendMessageIcon: renderSendMessageIcon })),
            React__default.createElement("div", { className: "sendbird-conversation__footer__typing-indicator" },
                (renderTypingIndicator === null || renderTypingIndicator === void 0 ? void 0 : renderTypingIndicator())
                    || (((_g = (_f = globalStore === null || globalStore === void 0 ? void 0 : globalStore.config) === null || _f === void 0 ? void 0 : _f.groupChannel) === null || _g === void 0 ? void 0 : _g.enableTypingIndicator)
                        && ((_k = (_j = (_h = globalStore === null || globalStore === void 0 ? void 0 : globalStore.config) === null || _h === void 0 ? void 0 : _h.groupChannel) === null || _j === void 0 ? void 0 : _j.typingIndicatorTypes) === null || _k === void 0 ? void 0 : _k.has(TypingIndicatorType.Text))
                        && (React__default.createElement(TypingIndicator, null))),
                !isOnline && (React__default.createElement(ConnectionStatus, null))))));
};

export { ChannelUI as default };
//# sourceMappingURL=ChannelUI.js.map
