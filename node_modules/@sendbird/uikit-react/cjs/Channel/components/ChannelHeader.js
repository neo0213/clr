'use strict';

var React = require('react');
var utils = require('../../chunks/bundle-MBuX_zXW.js');
var ui_Label = require('../../chunks/bundle-0MHADZvF.js');
var ui_Icon = require('../../ui/Icon.js');
var ui_IconButton = require('../../ui/IconButton.js');
var ui_ChannelAvatar = require('../../ui/ChannelAvatar.js');
var LocalizationContext = require('../../chunks/bundle-ZurhBjw4.js');
var useSendbirdStateContext = require('../../useSendbirdStateContext.js');
var Channel_context = require('../../chunks/bundle-7gBYfQwU.js');
var MediaQueryContext = require('../../chunks/bundle-vWUmeH2R.js');
var utils$1 = require('../../chunks/bundle-Pe-j2f1D.js');
require('../../chunks/bundle-QH7iLrPR.js');
require('../../chunks/bundle-v8bBiJ_c.js');
require('../../chunks/bundle-vSdu8rrq.js');
require('../../ui/ImageRenderer.js');
require('../../chunks/bundle-NYFm08XH.js');
require('../../chunks/bundle-MeuNh9Q9.js');
require('../../chunks/bundle-A4ywDIVT.js');
require('../../chunks/bundle-cV7uGK08.js');
require('../../withSendbird.js');
require('../../chunks/bundle-gM8i5lGF.js');
require('../../chunks/bundle-o1ta9AIa.js');
require('../../chunks/bundle-pxBxPT0b.js');
require('../../chunks/bundle-nGMCZjvM.js');
require('../../chunks/bundle-F--qTOLe.js');
require('../../utils/message/getOutgoingMessageState.js');
require('../../chunks/bundle-AQhLE-Ci.js');
require('@sendbird/chat/message');
require('../../chunks/bundle-GE1I3PNS.js');
require('../../chunks/bundle-ow5FLcVV.js');
require('@sendbird/chat/groupChannel');
require('../hooks/useInitialMessagesFetch.js');
require('../../chunks/bundle-0wbO-LdY.js');
require('../../chunks/bundle-EVdeXpsD.js');
require('../../chunks/bundle-l92Ws-Rs.js');
require('../../chunks/bundle-tFuTz5CT.js');

var ChannelHeader = function (_a) {
    var _b, _c, _d;
    var _e = _a.className, className = _e === void 0 ? '' : _e;
    var globalStore = useSendbirdStateContext.useSendbirdStateContext();
    var userId = (_b = globalStore === null || globalStore === void 0 ? void 0 : globalStore.config) === null || _b === void 0 ? void 0 : _b.userId;
    var theme = (_c = globalStore === null || globalStore === void 0 ? void 0 : globalStore.config) === null || _c === void 0 ? void 0 : _c.theme;
    var channelStore = Channel_context.useChannelContext();
    var isMobile = MediaQueryContext.useMediaQueryContext().isMobile;
    var currentGroupChannel = channelStore.currentGroupChannel, showSearchIcon = channelStore.showSearchIcon, onSearchClick = channelStore.onSearchClick, onChatHeaderActionClick = channelStore.onChatHeaderActionClick, _f = channelStore.onBackClick, onBackClick = _f === void 0 ? utils$1.noop : _f;
    var subTitle = ((currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.members)
        && ((_d = currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.members) === null || _d === void 0 ? void 0 : _d.length) !== 2);
    var isMuted = (currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.myMutedState) === 'muted';
    var stringSet = React.useContext(LocalizationContext.LocalizationContext).stringSet;
    return (React.createElement("div", { className: "sendbird-chat-header ".concat(className) },
        React.createElement("div", { className: "sendbird-chat-header__left" },
            isMobile && (React.createElement(ui_Icon.default, { className: "sendbird-chat-header__icon_back", onClick: onBackClick, fillColor: ui_Icon.IconColors.PRIMARY, width: "24px", height: "24px", type: ui_Icon.IconTypes.ARROW_LEFT })),
            React.createElement(ui_ChannelAvatar, { theme: theme, channel: currentGroupChannel, userId: userId, height: 32, width: 32 }),
            React.createElement(ui_Label.Label, { className: "sendbird-chat-header__left__title", type: ui_Label.LabelTypography.H_2, color: ui_Label.LabelColors.ONBACKGROUND_1 }, utils.getChannelTitle(currentGroupChannel, userId, stringSet)),
            React.createElement(ui_Label.Label, { className: "sendbird-chat-header__left__subtitle", type: ui_Label.LabelTypography.BODY_1, color: ui_Label.LabelColors.ONBACKGROUND_2 }, subTitle)),
        React.createElement("div", { className: "sendbird-chat-header__right" },
            ((typeof isMuted === 'string' && isMuted === 'true') || (typeof isMuted === 'boolean' && isMuted))
                && (React.createElement(ui_Icon.default, { className: "sendbird-chat-header__right__mute", type: ui_Icon.IconTypes.NOTIFICATIONS_OFF_FILLED, fillColor: ui_Icon.IconColors.ON_BACKGROUND_2, width: "24px", height: "24px" })),
            (showSearchIcon && !(currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.isEphemeral)) && (React.createElement(ui_IconButton, { className: "sendbird-chat-header__right__search", width: "32px", height: "32px", onClick: onSearchClick },
                React.createElement(ui_Icon.default, { type: ui_Icon.IconTypes.SEARCH, fillColor: ui_Icon.IconColors.PRIMARY, width: "24px", height: "24px" }))),
            React.createElement(ui_IconButton, { className: "sendbird-chat-header__right__info", width: "32px", height: "32px", onClick: onChatHeaderActionClick },
                React.createElement(ui_Icon.default, { type: ui_Icon.IconTypes.INFO, fillColor: ui_Icon.IconColors.PRIMARY, width: "24px", height: "24px" })))));
};

module.exports = ChannelHeader;
//# sourceMappingURL=ChannelHeader.js.map
