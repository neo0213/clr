'use strict';

var React = require('react');
var useSendbirdStateContext = require('../../useSendbirdStateContext.js');
var Channel_context = require('../../chunks/bundle-7gBYfQwU.js');
var ui_PlaceHolder = require('../../ui/PlaceHolder.js');
var ui_ConnectionStatus = require('../../ui/ConnectionStatus.js');
var Channel_components_ChannelHeader = require('./ChannelHeader.js');
var Channel_components_MessageList = require('../../chunks/bundle-5NqynIJA.js');
var Channel_components_TypingIndicator = require('./TypingIndicator.js');
var Channel_components_MessageInput = require('./MessageInput.js');
require('../../withSendbird.js');
require('../../chunks/bundle-QH7iLrPR.js');
require('../../chunks/bundle-gM8i5lGF.js');
require('../../chunks/bundle-o1ta9AIa.js');
require('../../chunks/bundle-pxBxPT0b.js');
require('../../chunks/bundle-nGMCZjvM.js');
require('../../chunks/bundle-cV7uGK08.js');
require('../../chunks/bundle-F--qTOLe.js');
require('../../utils/message/getOutgoingMessageState.js');
require('../../chunks/bundle-AQhLE-Ci.js');
require('@sendbird/chat/message');
require('../../chunks/bundle-GE1I3PNS.js');
require('../../chunks/bundle-ow5FLcVV.js');
require('@sendbird/chat/groupChannel');
require('../../chunks/bundle-NYFm08XH.js');
require('../hooks/useInitialMessagesFetch.js');
require('../../chunks/bundle-0wbO-LdY.js');
require('../../chunks/bundle-EVdeXpsD.js');
require('../../chunks/bundle-l92Ws-Rs.js');
require('../../chunks/bundle-tFuTz5CT.js');
require('../../chunks/bundle-ZurhBjw4.js');
require('../../chunks/bundle-v8bBiJ_c.js');
require('../../ui/Icon.js');
require('../../chunks/bundle-Pe-j2f1D.js');
require('../../chunks/bundle-0MHADZvF.js');
require('../../ui/Loader.js');
require('../../chunks/bundle-MBuX_zXW.js');
require('../../ui/IconButton.js');
require('../../ui/ChannelAvatar.js');
require('../../chunks/bundle-vSdu8rrq.js');
require('../../ui/ImageRenderer.js');
require('../../chunks/bundle-MeuNh9Q9.js');
require('../../chunks/bundle-A4ywDIVT.js');
require('../../chunks/bundle-vWUmeH2R.js');
require('./Message.js');
require('./SuggestedMentionList.js');
require('../../chunks/bundle-hxGMLtWg.js');
require('../../Thread/context.js');
require('../../Thread/context/types.js');
require('@sendbird/chat');
require('../../ui/DateSeparator.js');
require('../../chunks/bundle-yTYZiuXi.js');
require('../../ui/MessageInput.js');
require('../../ui/Button.js');
require('../../chunks/bundle-HjwY9t7s.js');
require('dompurify');
require('../../chunks/bundle-N1ipvkhN.js');
require('../../chunks/bundle-i5KLDxjz.js');
require('../../chunks/bundle-xeeBDhY6.js');
require('../../chunks/bundle-FpImAp7o.js');
require('../../ui/MessageContent.js');
require('../../chunks/bundle-0bOWh2mP.js');
require('../../chunks/bundle-YjWwnwWH.js');
require('../../chunks/bundle-AoaxviqO.js');
require('../../ui/MessageItemMenu.js');
require('../../ui/ContextMenu.js');
require('react-dom');
require('../../ui/SortByRow.js');
require('../../chunks/bundle-fWyUHuJu.js');
require('../../ui/MessageItemReactionMenu.js');
require('../../ui/ReactionButton.js');
require('../../chunks/bundle-5MVOBR4R.js');
require('../../ui/EmojiReactions.js');
require('../../ui/ReactionBadge.js');
require('../../ui/BottomSheet.js');
require('../../hooks/useModal.js');
require('../../chunks/bundle-JragPpHy.js');
require('../../ui/UserListItem.js');
require('../../ui/MutedAvatarOverlay.js');
require('../../ui/Checkbox.js');
require('../../ui/UserProfile.js');
require('../../sendbirdSelectors.js');
require('../../ui/Tooltip.js');
require('../../ui/TooltipWrapper.js');
require('../../Message/context.js');
require('../../ui/AdminMessage.js');
require('../../ui/QuoteMessage.js');
require('../../chunks/bundle-KKPmuuwX.js');
require('../../chunks/bundle-pVKke2mQ.js');
require('../../ui/ThreadReplies.js');
require('../../ui/OGMessageItemBody.js');
require('../../chunks/bundle-wN0CLPzM.js');
require('../../ui/MentionLabel.js');
require('../../ui/LinkLabel.js');
require('../../ui/TextMessageItemBody.js');
require('../../ui/FileMessageItemBody.js');
require('../../ui/TextButton.js');
require('../../chunks/bundle-omofvX-G.js');
require('../../chunks/bundle-5cuVj6Hi.js');
require('../../ui/VoiceMessageItemBody.js');
require('../../ui/ProgressBar.js');
require('../../VoicePlayer/useVoicePlayer.js');
require('../../chunks/bundle-VoZZnYtF.js');
require('../../VoiceRecorder/context.js');
require('../../ui/PlaybackTime.js');
require('../../ui/ThumbnailMessageItemBody.js');
require('../../ui/UnknownMessageItemBody.js');
require('./FileViewer.js');
require('./RemoveMessageModal.js');
require('../../chunks/bundle-HaufoaVC.js');
require('../../chunks/bundle-nuIgQkwQ.js');
require('../../Message/hooks/useDirtyGetMentions.js');
require('../utils/getMessagePartsInfo.js');
require('../utils/compareMessagesForGrouping.js');
require('./UnreadCount.js');
require('./FrozenNotification.js');
require('../../ui/TypingIndicatorBubble.js');
require('@sendbird/uikit-tools');
require('../../ui/QuoteMessageInput.js');
require('../../chunks/bundle-x3a8KQ02.js');
require('../../VoiceRecorder/useVoiceRecorder.js');
require('../../chunks/bundle-IxIg8fhp.js');
require('../hooks/useHandleUploadFiles.js');

var ChannelUI = function (_a) {
    var _b, _c, _d, _e, _f, _g, _h, _j, _k;
    var isLoading = _a.isLoading, renderPlaceholderLoader = _a.renderPlaceholderLoader, renderPlaceholderInvalid = _a.renderPlaceholderInvalid, renderPlaceholderEmpty = _a.renderPlaceholderEmpty, renderChannelHeader = _a.renderChannelHeader, renderMessage = _a.renderMessage, renderMessageInput = _a.renderMessageInput, renderTypingIndicator = _a.renderTypingIndicator, renderCustomSeparator = _a.renderCustomSeparator, renderFileUploadIcon = _a.renderFileUploadIcon, renderVoiceMessageIcon = _a.renderVoiceMessageIcon, renderSendMessageIcon = _a.renderSendMessageIcon, renderFrozenNotification = _a.renderFrozenNotification;
    var _l = Channel_context.useChannelContext(), channelUrl = _l.channelUrl, isInvalid = _l.isInvalid;
    var globalStore = useSendbirdStateContext.useSendbirdStateContext();
    var sdkError = (_c = (_b = globalStore === null || globalStore === void 0 ? void 0 : globalStore.stores) === null || _b === void 0 ? void 0 : _b.sdkStore) === null || _c === void 0 ? void 0 : _c.error;
    var logger = (_d = globalStore === null || globalStore === void 0 ? void 0 : globalStore.config) === null || _d === void 0 ? void 0 : _d.logger;
    var isOnline = (_e = globalStore === null || globalStore === void 0 ? void 0 : globalStore.config) === null || _e === void 0 ? void 0 : _e.isOnline;
    if (isLoading) {
        return (React.createElement("div", { className: "sendbird-conversation" }, (renderPlaceholderLoader === null || renderPlaceholderLoader === void 0 ? void 0 : renderPlaceholderLoader()) || (React.createElement(ui_PlaceHolder.default, { type: ui_PlaceHolder.PlaceHolderTypes.LOADING }))));
    }
    if (!channelUrl) {
        return (React.createElement("div", { className: "sendbird-conversation" }, (renderPlaceholderInvalid === null || renderPlaceholderInvalid === void 0 ? void 0 : renderPlaceholderInvalid()) || (React.createElement(ui_PlaceHolder.default, { type: ui_PlaceHolder.PlaceHolderTypes.NO_CHANNELS }))));
    }
    if (isInvalid) {
        return (React.createElement("div", { className: "sendbird-conversation" }, (renderPlaceholderInvalid === null || renderPlaceholderInvalid === void 0 ? void 0 : renderPlaceholderInvalid()) || (React.createElement(ui_PlaceHolder.default, { type: ui_PlaceHolder.PlaceHolderTypes.WRONG }))));
    }
    if (sdkError) {
        return (React.createElement("div", { className: "sendbird-conversation" }, (renderPlaceholderInvalid === null || renderPlaceholderInvalid === void 0 ? void 0 : renderPlaceholderInvalid()) || (React.createElement(ui_PlaceHolder.default, { type: ui_PlaceHolder.PlaceHolderTypes.WRONG, retryToConnect: function () {
                logger.info('Channel: reconnecting');
                // reconnect();
            } }))));
    }
    return (React.createElement("div", { className: 'sendbird-conversation' },
        (renderChannelHeader === null || renderChannelHeader === void 0 ? void 0 : renderChannelHeader()) || (React.createElement(Channel_components_ChannelHeader, { className: "sendbird-conversation__channel-header" })),
        React.createElement(Channel_components_MessageList.MessageList, { className: "sendbird-conversation__message-list", renderMessage: renderMessage, renderPlaceholderEmpty: renderPlaceholderEmpty, renderCustomSeparator: renderCustomSeparator, renderPlaceholderLoader: renderPlaceholderLoader, renderFrozenNotification: renderFrozenNotification }),
        React.createElement("div", { className: "sendbird-conversation__footer" },
            (renderMessageInput === null || renderMessageInput === void 0 ? void 0 : renderMessageInput()) || (React.createElement(Channel_components_MessageInput.default, { renderFileUploadIcon: renderFileUploadIcon, renderVoiceMessageIcon: renderVoiceMessageIcon, renderSendMessageIcon: renderSendMessageIcon })),
            React.createElement("div", { className: "sendbird-conversation__footer__typing-indicator" },
                (renderTypingIndicator === null || renderTypingIndicator === void 0 ? void 0 : renderTypingIndicator())
                    || (((_g = (_f = globalStore === null || globalStore === void 0 ? void 0 : globalStore.config) === null || _f === void 0 ? void 0 : _f.groupChannel) === null || _g === void 0 ? void 0 : _g.enableTypingIndicator)
                        && ((_k = (_j = (_h = globalStore === null || globalStore === void 0 ? void 0 : globalStore.config) === null || _h === void 0 ? void 0 : _h.groupChannel) === null || _j === void 0 ? void 0 : _j.typingIndicatorTypes) === null || _k === void 0 ? void 0 : _k.has(Channel_components_MessageList.TypingIndicatorType.Text))
                        && (React.createElement(Channel_components_TypingIndicator.default, null))),
                !isOnline && (React.createElement(ui_ConnectionStatus, null))))));
};

module.exports = ChannelUI;
//# sourceMappingURL=ChannelUI.js.map
